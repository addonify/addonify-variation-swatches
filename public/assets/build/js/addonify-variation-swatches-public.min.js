!function(d){"use strict";d(document).ready(function(){var s={};1==addonify_vs_object.enable_tooltip&&d(".addonify-vs-attributes-options li[data-title]").each(function(){tippy(this,{content:d(this).data("title")})}),d(".addonify-vs-attributes-options li").click(function(){var t,i,a;d(this).hasClass("disabled")||(t=d(this).data("value"),a=(i=d(this).parents("td")).find("select.addonify-vs-attributes-options-select"),i.find("li.selected").removeClass("selected"),d(this).addClass("selected"),a.val(t).change())}),d(".reset_variations").click(function(){d(".addonify-vs-attributes-options li.selected").removeClass("selected")}),d(".addonify-vs-attributes-options-select").change(function(){var t;setTimeout(function(){d(".addonify-vs-attributes-options-select").each(function(){d(this).siblings(".addonify-vs-attributes-options").first().find("li:not(.addonify-vs-item-more)").addClass("disabled"),d("option",this).each(function(){d(this).attr("value").length&&d('.addonify-vs-attributes-options li[data-value="'+d(this).val()+'"]').show().removeClass("disabled")})})},100),t=this,parseInt(addonify_vs_object.is_shop_page)&&(parseInt(addonify_vs_object.show_single_attribute)||((t=d(t).parents("table.variations")).find("ul.addonify-vs-attributes-options").length==t.find("ul.addonify-vs-attributes-options li.selected").length?(d(".product_type_variable.add_to_cart_button").hide(),d(".addonify_vs-add_to_cart-button").show()):(d(".product_type_variable.add_to_cart_button").show(),d(".addonify_vs-add_to_cart-button").hide()))),function(i){if(d("body").hasClass("archive")){let t=d(i).parents("li.product"),a=[],e=[];t.find("select.addonify-vs-attributes-options-select").each(function(t,i){a.push(d(i).attr("name")),e.push(d(i).val())}),function(t,i){let a=t.find("img.attachment-woocommerce_thumbnail"),e=t.find("form.variations_form"),o=e.data("product_id");o in s||(s[o]=a.attr("srcset")),(i=function(t,o){if(!d("body").hasClass("archive"))return;t=d('form.variations_form[data-product_id="'+t+'"]').data("product_variations");if(!t.length)return;let s=!1;return d.each(t,function(t,i){if(void 0!==i.attributes){let a=0,e=!0;if(d.each(i.attributes,function(t,i){""!=i&&i!=o[a]&&(e=!1),a++}),e)return s=i.image.srcset,!1}}),s}(o,i))&&a.attr("srcset",i)}(t,e),function(i,o,s){if(d("body").hasClass("archive")){let t=i.find("form.variations_form");var n;!t||(n=t.data("product_id"))&&(i=d('form.variations_form[data-product_id="'+n+'"]').data("product_variations")).length&&d.each(i,function(t,e){if(void 0!==e.attributes){let a=0;if(d.each(s,function(t,i){if(a++,i!=e.attributes[o[t]]&&(a=0),a===s.length)return!1}),a===s.length){var i=addonify_vs_object.shop_page_url+"?add-to-cart="+e.variation_id;return d('.addonify_vs-add_to_cart-button[data-product_id="'+n+'"]').attr("data-product_id",e.variation_id).attr("href",i),!1}}})}}(t,a,e)}}(this)}),d(".reset_variations").click(function(){var t,i;d("body").hasClass("archive")&&(t=(i=d(this).parents("li.product")).find("form.variations_form").data("product_id"),i=i.find("img.attachment-woocommerce_thumbnail"),t in s&&i.attr("srcset",s[t]))})})}(jQuery);